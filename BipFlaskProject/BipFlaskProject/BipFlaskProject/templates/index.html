{% extends "layout.html" %}

{% block content %}

<div class="jumbotron">
    <p><a class="btn btn-primary btn-lg active btn-block" href="/TurnSwitch">{{ state }}</a></p>
</div>

<div class="row">
    <div class="col-md-4">
        <h2 id="quote-title"></h2>
        <p id="quote-content"></p>
        <a id="quote-source"></a>
    </div>
    <div class="col-md-4">
        
    </div>
    <div class="col-md-4">
        
    </div>
</div>

<script>
    $(document).ready( function() {
        $.ajax({
            url: 'http://quotesondesign.com/wp-json/posts?filter[orderby]=rand&filter[posts_per_page]=1',
            success: function (data) {
                var post = data.shift(); // The data is an array of posts. Grab the first one.
                $('#quote-title').text(post.title);
                $('#quote-content').html(post.content);

                // If the Source is available, use it. Otherwise hide it.
                if (typeof post.custom_meta !== 'undefined' && typeof post.custom_meta.Source !== 'undefined') {
                    $('#quote-source').html('Source:' + post.custom_meta.Source);
                } else {
                    $('#quote-source').text('');
                }
            },
            cache: false
        });
    });
</script>

{% endblock %}
